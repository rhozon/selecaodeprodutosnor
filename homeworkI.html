<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Ozon, R. H. and Peixoto, F., S." />

<meta name="date" content="2020-01-10" />

<title>Homework: Econometrics (Shangai University of Finance)</title>

<script src="site_libs/header-attrs-2.25/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.2/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Tutoriais</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="https://rhozon.github.io/">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li>
  <a href="https://rhozon.github.io/site/about.html">
    <span class="fa fa-info"></span>
     
    About
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-gear"></span>
     
    Selecione
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">ENSINO</li>
    <li class="divider"></li>
    <li>
      <a href="index.html">Guia de Tutoriais</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="EscolhadeProdutoseAnaliseConjuntanoR.html">Mix de produtos com Analise Conjunta no R</a>
    </li>
    <li>
      <a href="ComparandoprecosAirbnb.html">Comparando precos de estadias no Airbnb com R</a>
    </li>
    <li>
      <a href="TesteABnoR.html">Teste AB para campanhas de marketing no R</a>
    </li>
    <li>
      <a href="RegressaodoComPrincipal.html">Regressão do Componente Principal no Excel para Multicolinearidade</a>
    </li>
    <li>
      <a href="Ridge.html">Regressão Ridge no Excel e no R para Multicolinearidade</a>
    </li>
    <li>
      <a href="Markov.html">Processos Estocásticos e Cadeias de Markov</a>
    </li>
    <li>
      <a href="ExercicioAnaliseFatorial.html">Análise de Componentes Principais e Fatorial</a>
    </li>
    <li>
      <a href="grafsuperficie.html">Gráfico 3D interativo para regressão múltipla</a>
    </li>
    <li>
      <a href="arvorededecisao.html">Árvores de Decisão para modelos de regressão</a>
    </li>
    <li>
      <a href="economiaderedes.html">Redes econômicas: Teoria de Redes na Economia usando R</a>
    </li>
    <li>
      <a href="cotacoes.html">Modelos da família ARCH em tempo real para dados de ações (VALE e PETRO)</a>
    </li>
    <li>
      <a href="inferenciacausal.html">Inferência Causal na Economia</a>
    </li>
    <li>
      <a href="varinstrumentais.html">Variáveis Instrumentais e Inferência Causal</a>
    </li>
    <li>
      <a href="Apresentacao_Econometria_CiDAMO_Rodrigo_H_Ozon.html">Apresentação Econometria no CiDAMO</a>
    </li>
    <li>
      <a href="rmarkdownepowerbi.html">Fluxo de Salarios Microdados CAGED</a>
    </li>
    <li>
      <a href="sparklyr.html">Big Data com o R: Lendo os microdados do CAGED com sparklyr</a>
    </li>
    <li>
      <a href="ETL_R_no_PowerBI.html">ETL com o R direto no Power BI</a>
    </li>
    <li>
      <a href="coinmarketcapxicoinomia.html">Webscrapping CoinMarketCap x Icoinomia</a>
    </li>
    <li>
      <a href="projetointegrador.html">Projeto Integrador de Ciência de Dados</a>
    </li>
    <li>
      <a href="homeworkI.html">Homework I: Econometrics (Shangai University of Finance)</a>
    </li>
    <li>
      <a href="problemset2.html">Homework II: Econometrics (Shangai University of Finance)</a>
    </li>
    <li>
      <a href="problemset2.html">Homework II: Econometrics (Shangai University of Finance)</a>
    </li>
    <li>
      <a href="anpreliminar.html">Análise preliminar de dados (Inclusão Financeira) (Shangai University of Finance)</a>
    </li>
    <li>
      <a href="schedula_Rmd_Windows.html">Agendamento automático de execução de RMarkdowns com o R</a>
    </li>
    <li>
      <a href="prophet.html">Previsão (forecasting) de séries temporais financeiras com o ``Facebook Prophet``</a>
    </li>
    <li>
      <a href="prophet_boost.html">Forecasting de séries temporais com algoritmos de machine learning</a>
    </li>
    <li>
      <a href="causalimpact.html">Análise de Intervenção em Séries Temporais com o algoritmo do Google ´´CausalImpact``</a>
    </li>
    <li>
      <a href="exerbolsadeestudos.html">Bolsa de Estudos x Matriculas: Uma abordagem de regressão bayesiana</a>
    </li>
    <li>
      <a href="modelo_deep_learning_series_temporais.html">Modelos de Deep Learning em Séries Temporais de preços de commodities</a>
    </li>
    <li>
      <a href="Modelo_Bayesiano_Monte_Carlo_Markov_Chain_Elasticidades.html">Modelo Bayesiano normal-normal Monte Carlo Markov Chain para estimativa das elasticidades de consumo</a>
    </li>
    <li>
      <a href="GARCH_Bayesiano.html">Aplicação de um modelo GARCH(1,1) Bayesiano em séries de retornos de commodities</a>
    </li>
    <li>
      <a href="optim_multiobjective.html">Introdução a otimização multiobjetivo de um portfólio de commodities</a>
    </li>
    <li>
      <a href="optim_multiobj_portfolio.html">Exemplo de aplicação multiobjetivo portfolio</a>
    </li>
    <li>
      <a href="Differential_Optimization_Portfolio.html">Algoritmo de Evolução Diferencial multiobjetivo portfolio</a>
    </li>
    <li>
      <a href="Multicriteria_Portfolio_Selection_Commodities.html">Seleção de Portfólio Multicritério com NSGAII</a>
    </li>
    <li>
      <a href="R_and_Python_using_Quarto.html">R and Python in the same script</a>
    </li>
    <li>
      <a href="Research_Presentation_RHO.html">MultiObjective Optim. Portfolio with non linear time series Research Presentation</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://rhozon.github.io/PortfolioRodrigo.html">
    <span class="fa fa-question fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/rhozon">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://www.linkedin.com/in/rodrigohermontozon/">
    <span class="fa fa-linkedin"></span>
     
  </a>
</li>
<li>
  <a href="https://api.whatsapp.com/send?phone=5541988382904&amp;text=">
    <span class="fa fa-whatsapp"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Homework: Econometrics (Shangai University
of Finance)</h1>
<h4 class="author">Ozon, R. H. and Peixoto, F., S.</h4>
<h4 class="date">01/10/2020</h4>

</div>


<!-- ================================================================================= -->
<!-- ================================================================================= -->
<hr />
<p><a href="https://github.com/rhozon/homeworkI">See the repo on
github</a></p>
<hr />
<p>2 In the simple linear regression model <span
class="math inline">\(y=\beta_{0}+\beta_{1}x+u\)</span>, suppose that
<span class="math inline">\(E(u)\neq 0\)</span>. Letting <span
class="math inline">\(\alpha_{0}=E(u)\)</span>, show that the model can
always be rewritten with the same slope, but a new intercept and error,
where the new error has a zero expected value.</p>
<p><strong>Solution:</strong></p>
<p><span class="math display">\[\begin{align}
y=&amp;\beta_{0}+\beta_{1}x+u\quad \mbox{then we can add $\alpha_{0}$
and subtract $\alpha_{0}$}\\
y=&amp;(\alpha_{0}+\beta_{0}) +\beta_{1}x+ (u−\alpha_{0})\\
\end{align}\]</span></p>
<p>We can call the new error <span
class="math inline">\(e=u-\alpha_{0}\)</span> and so that <span
class="math inline">\(E(e) = 0\)</span>. The new intercept is <span
class="math inline">\(α_0+β_0\)</span>, but the slope is still <span
class="math inline">\(β_1\)</span>.</p>
<hr />
<p>3 The following table contains the ACT scores and the GPA (grade
point average) for eight college students. Grade point average is based
on a four-point scale and has been rounded to one digit after the
decimal</p>
<table>
<thead>
<tr class="header">
<th>Student</th>
<th>GPA</th>
<th>ACT</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>2.8</td>
<td>21</td>
</tr>
<tr class="even">
<td>2</td>
<td>3.4</td>
<td>24</td>
</tr>
<tr class="odd">
<td>3</td>
<td>3</td>
<td>26</td>
</tr>
<tr class="even">
<td>4</td>
<td>3.5</td>
<td>27</td>
</tr>
<tr class="odd">
<td>5</td>
<td>3.6</td>
<td>29</td>
</tr>
<tr class="even">
<td>6</td>
<td>3</td>
<td>25</td>
</tr>
<tr class="odd">
<td>7</td>
<td>2.7</td>
<td>25</td>
</tr>
<tr class="even">
<td>8</td>
<td>3.7</td>
<td>30</td>
</tr>
</tbody>
</table>
<ol style="list-style-type: lower-roman">
<li>Estimate the relationship <em>GPA</em> and <em>ACT</em> using OLS;
that is, obtain the intercept and the slope estimates in this
equation</li>
</ol>
<p><span class="math display">\[
\widehat{GPA}=\widehat{\beta}_{0}+\widehat{\beta}_{1}ACT
\]</span></p>
<p>Comment on the direction of the relationship. Does the intercept have
useful interpretation here ? Explain. How much higher is the
<em>GPA</em> predicted to be if the <em>ACT</em> score is increased by
five points ?</p>
<p><strong>Solution</strong>:</p>
<p><a
href="https://github.com/rhozon/homeworkI/blob/main/gpaxact.xlsx?raw=true">*Download
the table here</a></p>
<p>The estimated relationship between <em>GPA</em> and <em>ACT</em>
is:</p>
<p><span class="math display">\[
\widehat{GPA}=0.568+0.102ACT
\]</span></p>
<p>In R we can call:</p>
<pre class="r"><code>table&lt;-read.csv(file=&quot;https://raw.githubusercontent.com/rhozon/homeworkI/main/gpaxact.csv&quot;,head=TRUE,sep=&quot;;&quot;)

GPA.fitted&lt;-lm(GPA~ACT,data=table)</code></pre>
<p> </p>
<center>
<table style="text-align:center">
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
<em>Dependent variable:</em>
</td>
</tr>
<tr>
<td>
</td>
<td colspan="1" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
GPA
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Constant
</td>
<td>
0.568
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.928)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
ACT
</td>
<td>
0.102<sup>**</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.036)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Observations
</td>
<td>
8
</td>
</tr>
<tr>
<td style="text-align:left">
R<sup>2</sup>
</td>
<td>
0.577
</td>
</tr>
<tr>
<td style="text-align:left">
Adjusted R<sup>2</sup>
</td>
<td>
0.507
</td>
</tr>
<tr>
<td style="text-align:left">
Residual Std. Error
</td>
<td>
0.269 (df = 6)
</td>
</tr>
<tr>
<td style="text-align:left">
F Statistic
</td>
<td>
8.199<sup>**</sup> (df = 1; 6)
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<em>Note:</em>
</td>
<td style="text-align:right">
<sup><em></sup>p&lt;0.1; <sup><strong></sup>p&lt;0.05;
<sup></strong></em></sup>p&lt;0.01
</td>
</tr>
</table>
</center>
<p> </p>
<p>The direction of the relationship is positive, i.e. when ACT grows
(one point), GPA is expected to grow by about 0.10 score points.</p>
<p>The intercept shows the GPA value when the other coefficients are
equal to zero. That is, if any student in the class gets a score of 0 we
expect GPA = 0.568.</p>
<p>If the ACT score is increased by 5 points the GPA will be about 0.51
(=0.102*5) greater.</p>
<ol start="2" style="list-style-type: lower-roman">
<li>Compute the fitted values and residuals for each observation and
verify that residuals (approximately) sum to zero.</li>
</ol>
<p><strong>Solution</strong>:</p>
<p>The fitted values are obtained by applying the OLS equation and
multiplying by the ACT values. For example, for the second student, we
estimate a GPA of 0.568 + 0.102 * 24 = 3.021.</p>
<p>The residuals are obtained by the equation <span
class="math inline">\(GPA-\widehat{GPA}\)</span>, and the sum <span
class="math inline">\(\displaystyle\sum_{i=1}^{n}(GPA-\widehat{GPA})\)</span></p>
<div class="table table-striped table-hover table-condensed"
style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:200px; overflow-x: scroll; width:600px;  margin-left: auto; margin-right: auto;">
<table class=" lightable-paper" style="font-family: &quot;Arial Narrow&quot;, arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
Student
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
GPA
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
ACT
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
GPA.fitted
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
residuals
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2.8
</td>
<td style="text-align:right;">
21
</td>
<td style="text-align:right;">
2.714
</td>
<td style="text-align:right;">
0.086
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
3.4
</td>
<td style="text-align:right;">
24
</td>
<td style="text-align:right;">
3.021
</td>
<td style="text-align:right;">
0.379
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
3.0
</td>
<td style="text-align:right;">
26
</td>
<td style="text-align:right;">
3.225
</td>
<td style="text-align:right;">
-0.225
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
3.5
</td>
<td style="text-align:right;">
27
</td>
<td style="text-align:right;">
3.327
</td>
<td style="text-align:right;">
0.173
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
3.6
</td>
<td style="text-align:right;">
29
</td>
<td style="text-align:right;">
3.532
</td>
<td style="text-align:right;">
0.068
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
3.0
</td>
<td style="text-align:right;">
25
</td>
<td style="text-align:right;">
3.123
</td>
<td style="text-align:right;">
-0.123
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
2.7
</td>
<td style="text-align:right;">
25
</td>
<td style="text-align:right;">
3.123
</td>
<td style="text-align:right;">
-0.423
</td>
</tr>
<tr>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
3.7
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
3.634
</td>
<td style="text-align:right;">
0.066
</td>
</tr>
<tr>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.000
</td>
</tr>
</tbody>
</table>
</div>
<p>In R we can call:</p>
<pre class="r"><code>sum(GPA.fitted$.residuals)</code></pre>
<pre><code> 0</code></pre>
<ol start="3" style="list-style-type: lower-roman">
<li>What is the predicted value of <em>GPA</em> when <em>ACT</em>=20
?</li>
</ol>
<p><strong>Solution</strong>:</p>
<p>Using the OLS estimated equation <span
class="math inline">\(\widehat{GPA}=0.568+0.102\times 20 =
2.612\)</span></p>
<ol start="4" style="list-style-type: lower-roman">
<li>How much of the variation in <em>GPA</em> for these eight students
is explained by <em>ACT</em> ? Explain.</li>
</ol>
<p><strong>Solution:</strong></p>
<p>By the <span class="math inline">\(R^{2}=0.5774\)</span> we cain
expect that about 57.74% of the variations in GPA can be explained by
ACT.</p>
<hr />
<p>10 Let <span class="math inline">\(\widehat{\beta}_{0}\)</span> and
<span class="math inline">\(\widehat{\beta}_{1}\)</span> be the OLS
intercept and slope estimators, respectively, and let <span
class="math inline">\(\overline{u}\)</span> be the sample average of
errors (not the residuals!).</p>
<ol style="list-style-type: lower-roman">
<li>Show that <span class="math inline">\(\widehat{\beta}_{1}\)</span>
can be written as <span
class="math inline">\(\widehat{\beta}_{1}=\beta_{1}+\displaystyle\sum_{i=1}^{n}w_{i}u_{i},\)</span>
where <span class="math inline">\(w_{i}=d_{i}/\mbox{SST}_{x}\)</span>
and <span class="math inline">\(d_{i}=x_{i}-\overline{x}\)</span></li>
</ol>
<p><strong>Solution:</strong></p>
<p>If we can call <span
class="math inline">\(w=\frac{\displaystyle\sum_{i=1}^{n}(x_{i}-\overline{x})u_{i}}{\displaystyle\sum_{i=1}^{n}(x_{i}-\overline{x})^{2}}\)</span>
than <span
class="math inline">\(\widehat{\beta}_{1}=\beta_{1}+\frac{\displaystyle\sum_{i=1}^{n}(x_{i}-\overline{x})u_{i}}{\displaystyle\sum_{i=1}^{n}(x_{i}-\overline{x})^{2}}\)</span>.
Then, now, define that <span
class="math inline">\(w_{i}=d_{i}/SST_{x}\)</span> .</p>
<ol start="2" style="list-style-type: lower-roman">
<li>Use part (i), along with <span
class="math inline">\(\displaystyle\sum_{i=1}^{n}w_{i}u_{i}=0\)</span>,
to show that <span class="math inline">\(\widehat{\beta}_{1}\)</span>
and <span class="math inline">\(\overline{u}\)</span> are uncorrelated.
[<em>Hint:</em> You are been asked to show that <span
class="math inline">\(E[(\widehat{\beta}_{1}-\beta_{1})\cdot
\overline{u}]=0\)</span>]</li>
</ol>
<p><strong>Solution:</strong></p>
<p>We show that the latter is zero because <span
class="math inline">\(Cov(\widehat{\beta}_{1},\overline{u})=E[(\widehat{\beta}_{1}-\beta_{1})\overline{u}]\)</span>.</p>
<p>Remember that <span
class="math inline">\(E[(\widehat{\beta}_{1}-\beta_{1})\overline{u}]=E[(\displaystyle\sum^{n}_{i=1}w_{i}u_{i})\overline{u}]=\displaystyle\sum^{n}_{i=1}w_{i}E(u_{i}\overline{u}).\)</span></p>
<p>The <span class="math inline">\(u_{i}\)</span> are pairwise
uncorrelated (they are independent), <span
class="math inline">\(E(u_{i},\overline{u})=E(u_{i}^{2}/n)=\sigma^{2}/n\)</span>
(because <span class="math inline">\(E(u_{i},u_{h})=0,\,\,i\neq
h\)</span>). Therefore, <span
class="math inline">\(\displaystyle\sum_{i=1}^{n}w_{i}E(u_{i},\overline{u})=\sum^{n}_{i=1}w_{i}(\sigma^{2}/n)=(\sigma^{2}/n)\displaystyle\sum^{n}_{i=1}w_{i}=0\)</span></p>
<ol start="3" style="list-style-type: lower-roman">
<li>Show that <span class="math inline">\(\widehat{\beta}_{0}\)</span>
can be written as <span
class="math inline">\(\widehat{\beta}_{0}=\beta_{0}+\overline{u}-(\widehat{\beta}_{1}-\beta_{1})\overline{x}\)</span></li>
</ol>
<p><strong>Solution:</strong></p>
<p>Remember that the OLS intercept formula is: <span
class="math inline">\(\widehat{\beta}_{0}=\overline{y}-\widehat{\beta}\overline{x}\)</span>
and if we can insert this in <span
class="math inline">\(\overline{y}=\beta_{0}+\beta_{1}\overline{x}+\overline{u}\)</span>
we can obtain:</p>
<p><span class="math display">\[
\widehat{\beta}_{0}=(\beta_{0}+\beta_{1}\overline{x}+\overline{u})-\widehat{\beta}_{1}\overline{x}=\beta_{0}+\overline{u}-(\widehat{\beta}-\beta_{1})\overline{x}
\]</span></p>
<ol start="4" style="list-style-type: lower-roman">
<li>Use parts (ii) and (iii) to show that <span
class="math inline">\(Var(\widehat{\beta}_{0})
=\sigma^{2}/n+\sigma^{2}(\overline{x})^{2}/SST_{x}\)</span>.</li>
</ol>
<p><strong>Solution:</strong></p>
<p><span class="math inline">\(\widehat{\beta}_{1}\)</span> and <span
class="math inline">\(\overline{u}\)</span> are uncorrelated than</p>
<p><span class="math display">\[
Var(\beta_{0})=Var(\overline{u})+Var(\widehat{\beta_{1}})\overline{x}^{2}=\\
\sigma^{2}/n+(\sigma^{2}/SST_{x})\overline{x}^{2}=\\
\sigma^{2}/n+\sigma^{2}\overline{x^{2}}/SST_{x}
\]</span></p>
<ol start="22" style="list-style-type: lower-alpha">
<li>Do the algebra to simplify the expression in part (iv) to equation
(2.58) [<em>Hint:</em> <span
class="math inline">\(SST_{x}/n=n^{-1}\displaystyle\sum_{i=1}^{n}x^{2}_{i}-(\overline{x})^{2}\)</span>.]</li>
</ol>
<p><strong>Solution</strong>:</p>
<p>The substitution gives</p>
<p><span class="math display">\[
Var(\widehat{\beta}_{0})=\sigma^{2}[SST_{x}/n+\overline{x}^{2}]/SST_{x}=\\
\sigma^{2}[(n^{-1}\sum^{n}_{i=1})x_{i}^{2}-\overline{x}^{2}]/SST_{x}=\\
\sigma^{2}(n^{-1}\sum^{n}_{i=1}x^{2}_{i})/SST_{x}
\]</span></p>
<hr />
<p>3 The following model is a simplified version of the multiple
regression model used by Biddle and Hamermesh (1990) to study the
tradeoff between time spent sleeping and working and to look at other
factors affecting sleep:</p>
<p><span class="math display">\[
sleep=\beta_{0}+\beta_{1}totwrk+\beta_{2}educ+\beta_{3}age+u,
\]</span></p>
<p>where <span class="math inline">\(sleep\)</span> and <span
class="math inline">\(totwrk\)</span> (total work) are measured in
minutes per week and <span class="math inline">\(educ\)</span> and <span
class="math inline">\(age\)</span> are measured in years (See also
Computer Exercise C3 in Chapter 2.)</p>
<ol style="list-style-type: lower-roman">
<li>If adults trade off sleep for work, what is the sign of <span
class="math inline">\(\beta_{1}\)</span> ?</li>
</ol>
<p><strong>Solution</strong>:</p>
<pre class="r"><code>library(wooldridge)

str(sleep75)</code></pre>
<pre><code>&#39;data.frame&#39;:   706 obs. of  34 variables:
 $ age     : int  32 31 44 30 64 41 35 47 32 30 ...
 $ black   : int  0 0 0 0 0 0 0 0 0 0 ...
 $ case    : int  1 2 3 4 5 6 7 8 9 10 ...
 $ clerical: num  0 0 0 0 0 0 0 0 0 0 ...
 $ construc: num  0 0 0 0 0 0 0 0 0 0 ...
 $ educ    : int  12 14 17 12 14 12 12 13 17 15 ...
 $ earns74 : num  0 9500 42500 42500 2500 ...
 $ gdhlth  : int  0 1 1 1 1 1 1 1 1 1 ...
 $ inlf    : int  1 1 1 1 1 1 1 1 1 1 ...
 $ leis1   : int  3529 2140 4595 3211 4052 4812 4787 3544 4359 4211 ...
 $ leis2   : int  3479 2140 4505 3211 4007 4797 4157 3469 4359 4061 ...
 $ leis3   : int  3479 2140 4227 3211 4007 4797 4157 3439 4121 4061 ...
 $ smsa    : int  0 0 1 0 0 0 0 1 0 1 ...
 $ lhrwage : num  1.956 0.358 3.022 2.264 1.012 ...
 $ lothinc : num  10.08 0 0 0 9.33 ...
 $ male    : int  1 1 1 0 1 1 1 1 1 1 ...
 $ marr    : int  1 0 1 1 1 1 1 1 1 1 ...
 $ prot    : int  1 1 0 1 1 1 1 1 0 0 ...
 $ rlxall  : int  3163 2920 3038 3083 3493 4078 3810 3033 3606 3168 ...
 $ selfe   : int  0 1 1 1 0 0 0 1 0 1 ...
 $ sleep   : int  3113 2920 2670 3083 3448 4063 3180 2928 3368 3018 ...
 $ slpnaps : int  3163 2920 2760 3083 3493 4078 3810 3003 3368 3168 ...
 $ south   : int  0 1 0 0 0 0 0 0 0 0 ...
 $ spsepay : num  0 0 20000 5000 2400 0 12000 0 0 6000 ...
 $ spwrk75 : int  0 0 1 1 1 0 1 0 0 1 ...
 $ totwrk  : int  3438 5020 2815 3786 2580 1205 2113 3608 2353 2851 ...
 $ union   : int  0 0 0 0 0 0 0 0 1 0 ...
 $ worknrm : int  3438 5020 2815 3786 2580 0 2113 3608 2353 2851 ...
 $ workscnd: int  0 0 0 0 0 1205 0 0 0 0 ...
 $ exper   : int  14 11 21 12 44 23 17 28 9 9 ...
 $ yngkid  : int  0 0 0 0 0 0 1 0 0 0 ...
 $ yrsmarr : int  13 0 0 12 33 23 0 24 11 7 ...
 $ hrwage  : num  7.07 1.43 20.53 9.62 2.75 ...
 $ agesq   : int  1024 961 1936 900 4096 1681 1225 2209 1024 900 ...
 - attr(*, &quot;time.stamp&quot;)= chr &quot;25 Jun 2011 23:03&quot;</code></pre>
<p>We can run the OLS regression in R</p>
<pre class="r"><code>fit&lt;-lm(sleep~totwrk+educ+age,data=sleep75)</code></pre>
<p> </p>
<center>
<table style="text-align:center">
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
<em>Dependent variable:</em>
</td>
</tr>
<tr>
<td>
</td>
<td colspan="1" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
sleep
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
fit
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Constant
</td>
<td>
3,638.245<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(112.275)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
totwrk
</td>
<td>
-0.148<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.017)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
educ
</td>
<td>
-11.134<sup>*</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(5.885)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
age
</td>
<td>
2.200
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(1.446)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Observations
</td>
<td>
706
</td>
</tr>
<tr>
<td style="text-align:left">
R<sup>2</sup>
</td>
<td>
0.113
</td>
</tr>
<tr>
<td style="text-align:left">
Adjusted R<sup>2</sup>
</td>
<td>
0.110
</td>
</tr>
<tr>
<td style="text-align:left">
Residual Std. Error
</td>
<td>
419.359 (df = 702)
</td>
</tr>
<tr>
<td style="text-align:left">
F Statistic
</td>
<td>
29.919<sup>***</sup> (df = 3; 702)
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<em>Note:</em>
</td>
<td style="text-align:right">
<sup><em></sup>p&lt;0.1; <sup><strong></sup>p&lt;0.05;
<sup></strong></em></sup>p&lt;0.01
</td>
</tr>
</table>
</center>
<p> </p>
<pre class="r"><code>#generating the dataset
library(xlsx)
write.xlsx(sleep75, file=&quot;sleep75.xlsx&quot;)</code></pre>
<p><a
href="https://github.com/rhozon/homeworkI/blob/main/sleep75.xlsx?raw=true">You
can download the dataset here</a></p>
<p>Soon if adults trade off sleep for work, more work implies less sleep
(other things equal), so <span class="math inline">\(β_1 &lt;
0\)</span>.</p>
<ol start="2" style="list-style-type: lower-roman">
<li>What signs do you think <span
class="math inline">\(\beta_{2}\)</span> and <span
class="math inline">\(\beta_{3}\)</span> will have ?</li>
</ol>
<p><strong>Solution</strong></p>
<p>The signs of <span class="math inline">\(\beta_2\)</span> and <span
class="math inline">\(\beta_3\)</span> are not obvious. One could argue
that more educated people like to get more out of life, and so, other
things equal, they sleep less (<span class="math inline">\(\beta_2 &lt;
0\)</span>). The relationship between sleeping and age is more
complicated than this model suggests, and economists are not in the best
position to judge such things.</p>
<ol start="3" style="list-style-type: lower-roman">
<li>Using th data in SLEEP75, the estimated equation is</li>
</ol>
<p><span class="math display">\[
\widehat{sleep}=3,638.25-.148totwrk-11.13educ+2.20age\\
n=706,\,\, R^{2}=.113.
\]</span></p>
<p>If someone works five more hours per week, by how many minutes is
<em>sleep</em> predicted to fall ? Is this a large tradeoff ?</p>
<p><strong>Solution</strong></p>
<p>Since <span class="math inline">\(totwrk\)</span> is in minutes, we
must convert five hours into minutes: <span
class="math inline">\(∆totwrk = 5(60) = 300\)</span>. Then sleep is
predicted to fall by 0.148(300) = 44.4 minutes. Fo a week, 45 minutes
less sleep is not an overwhelming change</p>
<ol start="4" style="list-style-type: lower-roman">
<li>Discuss the sign and magnitude of the estimated coefficient on
<em>educ</em></li>
</ol>
<p><strong>Solution</strong></p>
<p>More education implies less predicted time sleeping, but the effect
is quite small. If we assume the difference between college and high
school is four years, the college graduate sleeps about 45 minutes less
per week, other things equal</p>
<ol start="22" style="list-style-type: lower-alpha">
<li>Would you say <span class="math inline">\(totwrk\)</span>, <span
class="math inline">\(educ\)</span> and <span
class="math inline">\(age\)</span> explain much of the variation in
sleep? What other factors might affect the time spent sleeping ? Are
these likely to be correlated with <span
class="math inline">\(totwrk\)</span> ?</li>
</ol>
<p><strong>Solution</strong></p>
<p>As shown in the (i) the <span
class="math inline">\(R^2=0.113\)</span> that the three explanatory
variables explain only about 11.3% of the variation in sleep. One
important factor in the error term is general health.</p>
<p>Another is marital status, and whether the person has children.
Health (however we measure that), marital status, and number and ages of
children would generally be correlated with totwrk. (For example, less
healthy people would tend to work less.)</p>
<hr />
<p>9 The following equation describes the median housing price in a
community in terms of amount of pollution (nox for nitrous oxide) and
the average number of rooms in houses in the community (rooms):</p>
<p><span class="math display">\[
\log(price)=\beta_{0} +\beta_{1}\log(nox)+\beta_{2}rooms+u.
\]</span></p>
<ol style="list-style-type: lower-roman">
<li>What is the interpretation of <span
class="math inline">\(\beta_{1}\)</span> and <span
class="math inline">\(\beta_{2}\)</span>? What is the interpretation of
<span class="math inline">\(\beta_{1}\)</span> ? Explain.</li>
</ol>
<p><strong>Solution</strong></p>
<p>We hope <span class="math inline">\(\beta_1 &lt; 0\)</span> because
more pollution can be expected to lower housing values; <span
class="math inline">\(\beta_1\)</span> is the elasticity of price with
respect to <span class="math inline">\(nox\)</span>. <span
class="math inline">\(\beta_2\)</span> is probably positive because
<span class="math inline">\(rooms\)</span> roughly measures the size of
a house. (However, it does not allow us to distinguish homes where each
room is large from homes where each room is small.)</p>
<ol start="2" style="list-style-type: lower-roman">
<li>Why might <span class="math inline">\(nox\)</span> [or more
precisely <span class="math inline">\(\log(nox)\)</span>] and <span
class="math inline">\(rooms\)</span> be negatively correlated? If this
is the case, does the simple regression of <span
class="math inline">\(log(price)\)</span> on <span
class="math inline">\(log(nox)\)</span> produce an upward or a downward
biased estimator of <span class="math inline">\(\beta_{1}\)</span>?</li>
</ol>
<p><strong>Soloution</strong></p>
<p>If we assume that <span class="math inline">\(rooms\)</span>
increases with quality of the home, then <span
class="math inline">\(log(nox)\)</span> and <span
class="math inline">\(rooms\)</span> are negatively correlated when
poorer neighborhoods have more pollution, something that is often true.
If <span class="math inline">\(\beta_2 &gt; 0\)</span> and <span
class="math inline">\(Corr(x1, x2) &lt; 0\)</span>, the simple
regression estimator <span
class="math inline">\(\widetilde{β}_1\)</span> has a downward bias. But
because <span class="math inline">\(\beta_1 &lt; 0\)</span>, this means
that the simple regression, on average, overstates the importance of
pollution. <span class="math inline">\((E(\widetilde{\beta}_1)\)</span>
is more negative than <span class="math inline">\(\beta_1\)</span>.)</p>
<ol start="3" style="list-style-type: lower-roman">
<li>Using the data in HPRICE2, the following equations were
estimated:</li>
</ol>
<p><span class="math display">\[
\widehat{\log(price)}=11.71-1.043\log(nox), n=506,\,R^{2}=.264\\
\widehat{\log(price)}=9.23-.718\log(nox)+.306rooms, n=506,\,R^{2}=.514
\]</span></p>
<p>Is the relationship between the simple and multiple regression
estimates of the elasticity of <span
class="math inline">\(price\)</span> with respect to <span
class="math inline">\(nox\)</span> what would have predicted, given your
answer in part (ii)? Does this mean that -.718 is definitely closer to
the true elasticity than -1.043 ?</p>
<p><strong>Solution:</strong></p>
<p>This is what we expect from the typical sample based on our analysis
in part (i). The simple regression estimate, −1.043, is more negative
(larger in magnitude) than the multiple regression estimate, −0.718. As
those estimates are only for one sample, we can never know which is
closer to <span class="math inline">\(\beta_1\)</span>. But if this is a
“typical” sample, <span class="math inline">\(\beta_1\)</span> is closer
to −0.718.</p>
<hr />
<p>16 The following equations were estimated using the data in
LAWSCH85:</p>
<p><span class="math display">\[\begin{align}
\widehat{lsalary}=&amp; 9.9 -.0041rank +.294GPA\\
&amp;(.24)\quad(.0003)\quad(.069)\\
&amp;n=142\quad R^{2}=.8238
\end{align}\]</span></p>
<p><span class="math display">\[\begin{align}
\widehat{lsalary}=&amp; 9.86 -.0038rank +.295GPA+.00017age\\
&amp;(.29)\quad(.0004)\,\,\,\,\quad(.083)\quad\,\,(.00036)\\
&amp;n=99\quad R^{2}=.8036
\end{align}\]</span></p>
<p>How can it be that the <span class="math inline">\(R^{2}\)</span> is
smaller when the variable <span class="math inline">\(age\)</span> is
added to equation.</p>
<p><strong>Solution</strong>:</p>
<p>By using the wooldridge package in R we can see:</p>
<pre class="r"><code>library(wooldridge)

#inspect the dataset
str(lawsch85)</code></pre>
<pre><code>&#39;data.frame&#39;:   156 obs. of  21 variables:
 $ rank   : int  128 104 34 49 95 98 124 157 145 91 ...
 $ salary : num  31400 33098 32870 35000 33606 ...
 $ cost   : int  8340 6980 16370 17566 8350 8350 6020 5986 4785 7680 ...
 $ LSAT   : int  155 160 155 157 162 161 155 152 155 160 ...
 $ GPA    : num  3.15 3.5 3.25 3.2 3.38 ...
 $ libvol : int  216 256 424 329 332 311 220 230 230 157 ...
 $ faculty: int  45 44 78 136 56 40 40 45 101 44 ...
 $ age    : int  12 113 134 89 70 29 61 60 70 128 ...
 $ clsize : int  210 190 270 277 150 156 151 149 322 70 ...
 $ north  : int  1 0 0 0 0 0 0 0 0 0 ...
 $ south  : int  0 1 0 0 0 0 1 1 0 1 ...
 $ east   : int  0 0 1 1 0 0 0 0 1 0 ...
 $ west   : int  0 0 0 0 1 1 0 0 0 0 ...
 $ lsalary: num  10.4 10.4 10.4 10.5 10.4 ...
 $ studfac: num  4.67 4.32 3.46 2.04 2.68 ...
 $ top10  : int  0 0 0 0 0 0 0 0 0 0 ...
 $ r11_25 : int  0 0 0 0 0 0 0 0 0 0 ...
 $ r26_40 : int  0 0 1 0 0 0 0 0 0 0 ...
 $ r41_60 : int  0 0 0 1 0 0 0 0 0 0 ...
 $ llibvol: num  5.38 5.55 6.05 5.8 5.81 ...
 $ lcost  : num  9.03 8.85 9.7 9.77 9.03 ...
 - attr(*, &quot;time.stamp&quot;)= chr &quot;25 Jun 2011 23:03&quot;</code></pre>
<pre class="r"><code>head(lawsch85)</code></pre>
<pre><code>  rank salary  cost LSAT  GPA libvol faculty age clsize north south east west  lsalary  studfac top10 r11_25 r26_40 r41_60  llibvol    lcost
1  128  31400  8340  155 3.15    216      45  12    210     1     0    0    0 10.35456 4.666667     0      0      0      0 5.375278 9.028818
2  104  33098  6980  160 3.50    256      44 113    190     0     1    0    0 10.40723 4.318182     0      0      0      0 5.545177 8.850804
3   34  32870 16370  155 3.25    424      78 134    270     0     0    1    0 10.40032 3.461539     0      0      1      0 6.049734 9.703206
4   49  35000 17566  157 3.20    329     136  89    277     0     0    1    0 10.46310 2.036765     0      0      0      1 5.796058 9.773721
5   95  33606  8350  162 3.38    332      56  70    150     0     0    0    1 10.42246 2.678571     0      0      0      0 5.805135 9.030017
6   98  31700  8350  161 3.40    311      40  29    156     0     0    0    1 10.36407 3.900000     0      0      0      0 5.739793 9.030017</code></pre>
<pre class="r"><code>sum(is.na(lawsch85))</code></pre>
<pre><code> 101</code></pre>
<pre class="r"><code>na_count &lt;-sapply(lawsch85, function(y) sum(length(which(is.na(y)))))

na_count &lt;- data.frame(na_count)

na_count</code></pre>
<pre><code>        na_count
rank           0
salary         8
cost           6
LSAT           6
GPA            7
libvol         1
faculty        4
age           45
clsize         3
north          0
south          0
east           0
west           0
lsalary        8
studfac        6
top10          0
r11_25         0
r26_40         0
r41_60         0
llibvol        1
lcost          6</code></pre>
<pre class="r"><code>sum(na_count)</code></pre>
<pre><code> 101</code></pre>
<pre class="r"><code>#generating the dataset
library(xlsx)
write.xlsx(lawsch85, file=&quot;lawsch85.xlsx&quot;)</code></pre>
<p><a
href="https://github.com/rhozon/homeworkI/raw/main/lawsch85.xlsx">Now
you can download the lawsch85.xlsx here</a></p>
<p>By running the two regression models, we can have:</p>
<pre class="r"><code>mod1&lt;-lm(lsalary~rank+GPA,data=lawsch85)

mod2&lt;-lm(lsalary~rank+GPA+age,data=lawsch85)</code></pre>
<p> </p>
<center>
<table style="text-align:center">
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="2">
<em>Dependent variable:</em>
</td>
</tr>
<tr>
<td>
</td>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="2">
lsalary
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
mod1
</td>
<td>
mod2
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(1)
</td>
<td>
(2)
</td>
</tr>
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Constant
</td>
<td>
9.899<sup>***</sup>
</td>
<td>
9.860<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.245)
</td>
<td>
(0.293)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
rank
</td>
<td>
-0.004<sup>***</sup>
</td>
<td>
-0.004<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.0003)
</td>
<td>
(0.0004)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
GPA
</td>
<td>
0.294<sup>***</sup>
</td>
<td>
0.295<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.069)
</td>
<td>
(0.083)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
age
</td>
<td>
</td>
<td>
0.0002
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
(0.0004)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Observations
</td>
<td>
142
</td>
<td>
99
</td>
</tr>
<tr>
<td style="text-align:left">
R<sup>2</sup>
</td>
<td>
0.824
</td>
<td>
0.804
</td>
</tr>
<tr>
<td style="text-align:left">
Adjusted R<sup>2</sup>
</td>
<td>
0.821
</td>
<td>
0.797
</td>
</tr>
<tr>
<td style="text-align:left">
Residual Std. Error
</td>
<td>
0.117 (df = 139)
</td>
<td>
0.120 (df = 95)
</td>
</tr>
<tr>
<td style="text-align:left">
F Statistic
</td>
<td>
324.858<sup>***</sup> (df = 2; 139)
</td>
<td>
129.535<sup>***</sup> (df = 3; 95)
</td>
</tr>
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<em>Note:</em>
</td>
<td colspan="2" style="text-align:right">
<sup><em></sup>p&lt;0.1; <sup><strong></sup>p&lt;0.05;
<sup></strong></em></sup>p&lt;0.01
</td>
</tr>
</table>
</center>
<p> </p>
<p>The coefficient of the age variable was shown to be insignificant in
model 2.</p>
<p>With different observations the <span
class="math inline">\(R^2\)</span> are been incomparable (see the <span
class="math inline">\(n\)</span> in the two estimated equations). The
residual standard error consumed more degrees of freedom in model 2 and
increased compared to model 1.As seen above, the age variable has 45
missing data and the other variables in the both models…</p>
<pre class="r"><code>library(dplyr)
regvars&lt;-lawsch85%&gt;%
select(lsalary,rank,GPA,age)

na_count_reg &lt;-sapply(regvars, function(y) sum(length(which(is.na(y)))))

na_count_reg &lt;- data.frame(na_count_reg)

na_count_reg</code></pre>
<pre><code>        na_count_reg
lsalary            8
rank               0
GPA                7
age               45</code></pre>
<p>Although the general <span class="math inline">\(F\)</span> test is
significant in both models, the <span class="math inline">\(t\)</span>
statistic shows that the inclusion of the <span
class="math inline">\(age\)</span> variable does not improve the model’s
fit to explain lsalary.</p>
<hr />
<div id="references" class="section level3">
<h3>References</h3>
<p><a
href="https://cran.r-project.org/web/packages/wooldridge/wooldridge.pdf">CRAN
Wooldridge documentation: Data Sets from “Introductory Econometrics: A
Modern Approach, 6e” by Jeffrey M. Wooldridge</a></p>
<p><a href="http://english.sufe.edu.cn/">Shangai University of Finance:
Avaible in http://english.sufe.edu.cn/</a></p>
<p><a href="https://book4you.org/book/3372803/9610fc">Wooldridge, J.
<em><strong>Introductory econometrics: A modern approach</strong></em>,
2016, 6.ed., Cengage Learning, ISBN 13: 978-1-305-27010-7</a></p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
